/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
__export(exports, {
  default: () => Table2CSVPlugin
});
var import_obsidian = __toModule(require("obsidian"));
var DEFAULT_SETTINGS = {
  exportPath: "./",
  baseFilename: "table-export",
  fileNumber: "001",
  sepChar: "sepChar-semicolon",
  quoteDataChar: "quoteChar-noQuote",
  saveToClipboardToo: false,
  removeCRLF: "removeCRLF-space"
};
var Table2CSVPlugin = class extends import_obsidian.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.addCommand({
        id: "obsidian-table-to-csv-exporter",
        name: "Export table to CSV file",
        checkCallback: (checking) => {
          const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
          if (view) {
            if (!checking) {
              const viewMode = view.getMode();
              if (viewMode == "preview") {
                const csvString = htmlToCSV(view.previewMode.containerEl, this.settings.sepChar, this.settings.quoteDataChar, this.settings.removeCRLF);
                if (csvString.length > 0) {
                  let filename = `${this.app.workspace.activeLeaf.view.file.basename}-${this.settings.fileNumber}.csv`;
                  if(this.settings.baseFilename)
                   filename = `${this.settings.baseFilename}-${this.settings.fileNumber}.csv`;
                  this.app.vault.create(filename, csvString).then(() => {
                    let fn = +this.settings.fileNumber;
                    fn++;
                    if (fn == 1e3)
                      fn = 1;
                    let newFileNumberString = fn + "";
                    while (newFileNumberString.length < 3)
                      newFileNumberString = "0" + newFileNumberString;
                    this.settings.fileNumber = newFileNumberString;
                    if (this.settings.saveToClipboardToo) {
                      let _csvString =csvString
                      _csvString=_csvString.replace(/,/g, '\t').replace(/\ufeff/, '')
                      navigator.clipboard.writeText(_csvString).then(() => {
                        new import_obsidian.Notice(`The file ${filename} was successfully created in your vault. The contents was also copied to the clipboard.`);
                      }).catch((err) => {
                        new import_obsidian.Notice("There was an error with copying the contents to the clipboard.");
                      });
                    } else {
                      new import_obsidian.Notice(`The file ${filename} was successfully created in your vault.`);
                    }
                  }).catch((error) => {
                    const errorMessage = `Error: ${error.message}`;
                    new import_obsidian.Notice(errorMessage);
                  });
                } else {
                  new import_obsidian.Notice(`No table was found. No CSV file was written.`);
                }
              } else {
                new import_obsidian.Notice("This command only works on panes in reading mode! \u2013 No CSV files were written.");
              }
            }
            return true;
          }
          return false;
        }
      });
      this.addSettingTab(new Table2CSVSettingTab(this.app, this));
      console.log(`Table to CSV plugin: Version ${this.manifest.version} loaded.`);
    });
  }
  onunload() {
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
};
function htmlToCSV(html, sepMode, quoteChar, removeCRLF) {
  var data = [];
  var table = html.querySelectorAll("table");
 for(var t= 0; t< table.length; t ++){
    if (table[t]) {
   var rows = table[t].rows;
    for (var i = 0; i < rows.length; i++) {
      var row = [], cols = rows[i].querySelectorAll("td, th");
      for (var j = 0; j < cols.length; j++) {
        var cellContent = cols[j].innerText;
        if (removeCRLF == "removeCRLF-clear") {
          cellContent = cellContent.replace(/(\r\n|\n|\r)/gm, "");
        } else if (removeCRLF == "removeCRLF-space") {
          cellContent = cellContent.replace(/(\r\n|\n|\r)/gm, " ");
        } else if (removeCRLF == "removeCRLF-string1") {
          cellContent = cellContent.replace(/(\r\n|\n|\r)/gm, "[CR]");
        }
        if (quoteChar == "quoteChar-doubleQuotes") {
          cellContent = '"' + cellContent + '"';
        } else if (quoteChar == "quoteChar-singleQuotes") {
          cellContent = "'" + cellContent + "'";
        }
        row.push(cellContent);
      }
      var sepChar = ";";
      switch (sepMode) {
        case "sepChar-semicolon":
          sepChar = ";";
          break;
        case "sepChar-comma":
          sepChar = ",";
          break;
        case "sepChar-tab":
          sepChar = "	";
          break;
        case "sepChar-pipe":
          sepChar = "|";
          break;
        case "sepChar-tilde":
          sepChar = "~";
          break;
        case "sepChar-caret":
          sepChar = "^";
          break;
        case "sepChar-colon":
          sepChar = ":";
          break;
      }
      data.push(row.join(sepChar));
    }
  }
    data.push('\n\n');
}
  if (data.length > 0)
    return '\ufeff'+data.join("\n");
  else
    return "";
}
var Table2CSVSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for the Table to CSV Plugin." });
    containerEl.createEl("p", { text: "NOTE: Currently, the exported CSV files are saved inside your vault main folder." });
    new import_obsidian.Setting(containerEl).setName("CSV file base filename").setDesc('Enter the base filename. The "File Number addendum" gets added after that and finally .csv').addText((text) => text.setPlaceholder("<enter a base filename").setValue(this.plugin.settings.baseFilename).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.baseFilename = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("File Number addendum").setDesc("This number gets added to the base filename and incremented after each export. Normally, you shouldn't need to edit this.").addText((text) => text.setPlaceholder("").setValue(this.plugin.settings.fileNumber).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.fileNumber = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Data fields separation character/string").setDesc("This character will be put between each cell's data. Defaults to a semicolon.").addDropdown((dropdown) => dropdown.addOption("sepChar-semicolon", "; (semicolon)").addOption("sepChar-comma", ", (comma)").addOption("sepChar-tab", "\\t (tab)").addOption("sepChar-pipe", "| (pipe)").addOption("sepChar-tilde", "~ (tilde)").addOption("sepChar-caret", "^ (caret)").addOption("sepChar-colon", ": (colon)").setValue(this.plugin.settings.sepChar).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.sepChar = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Quote data").setDesc("Do you want quotation marks around each cell's data?").addDropdown((dropdown) => dropdown.addOption("quoteChar-noQuote", "Don't quote data").addOption("quoteChar-doubleQuotes", 'Quote data with double quote character (")').addOption("quoteChar-singleQuotes", "Quote data with single quote character (')").setValue(this.plugin.settings.quoteDataChar).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.quoteDataChar = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Handling of CR/LF in data").setDesc("Choose how to handle the occurance of return and linefeed characters in data cells.").addDropdown((dropdown) => dropdown.addOption("removeCRLF-clear", "Remove all CR & LF characters").addOption("removeCRLF-space", "Replace all CR & LF characters with one space").addOption("removeCRLF-string1", "Replace all CR & LF characters with string [CR]").setValue(this.plugin.settings.removeCRLF).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.removeCRLF = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Copy to clipboard, too").setDesc("Do you want to copy the contents of the CSV file to the system clipboard, too?").addToggle((toggle) => toggle.setValue(this.plugin.settings.saveToClipboardToo).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.saveToClipboardToo = value;
      yield this.plugin.saveSettings();
    })));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRmlsZSAgICAgICA6IG1haW4udHNcbi8vIEF1dGhvciAgICAgOiBTdGVmYW4gV29sZnJ1bSAoQG1ldGF3b3BzKVxuLy8gRGF0ZSAgICAgICA6IDIwMjItMDUtMjdcbi8vIExhc3QgVXBkYXRlOiAyMDIyLTA1LTMxXG4vLyBEZXNjcmlwdGlvbjogSW1wbGVtZW50YXRpb24gb2YgbXkgdmVyeSBmaXJzdCBPYnNpZGlhbiBwbHVnaW4uXG4vLyAgICAgICAgICAgICAgSXQgYWxsb3dzIHRvIGV4cG9ydCByZW5kZXJlZCBIVE1MIHRhYmxlcyAoaS5lLiBmcm9tIGEgcGFuZSBpbiByZWFkaW5nIG1vZGUpXG4vLyAgICAgICAgICAgICAgdG8gYmUgZXhwb3J0ZWQgdG8gYSBDU1YgZmlsZSBhbmQgb3B0aW9uYWxseSB0byB0aGUgY2xpcGJvYXJkLCB0b28uXG4vLyAgICAgICAgICAgICAgUHVyZWx5IGJhc2VkIG9uIHRoZSBPYnNpZGlhbiBzYW1wbGUgcGx1Z2luLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5cbmludGVyZmFjZSBUYWJsZTJDU1ZTZXR0aW5ncyB7XG4gICBleHBvcnRQYXRoOiBzdHJpbmc7XG4gICBiYXNlRmlsZW5hbWU6IHN0cmluZztcbiAgIGZpbGVOdW1iZXI6IHN0cmluZztcbiAgIHNlcENoYXI6IHN0cmluZztcbiAgIHF1b3RlRGF0YUNoYXI6IHN0cmluZztcbiAgIHNhdmVUb0NsaXBib2FyZFRvbzogYm9vbGVhbjtcbiAgIHJlbW92ZUNSTEY6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogVGFibGUyQ1NWU2V0dGluZ3MgPSB7XG4gICBleHBvcnRQYXRoOiAnLi8nLFxuICAgYmFzZUZpbGVuYW1lOiAndGFibGUtZXhwb3J0JyxcbiAgIGZpbGVOdW1iZXI6ICcwMDEnLFxuICAgc2VwQ2hhcjogJ3NlcENoYXItc2VtaWNvbG9uJyxcbiAgIHF1b3RlRGF0YUNoYXI6ICdxdW90ZUNoYXItbm9RdW90ZScsXG4gICBzYXZlVG9DbGlwYm9hcmRUb286IGZhbHNlLFxuICAgcmVtb3ZlQ1JMRjogJ3JlbW92ZUNSTEYtc3BhY2UnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlMkNTVlBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICBzZXR0aW5nczogVGFibGUyQ1NWU2V0dGluZ3M7XG5cbiAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgIGlkOiAnb2JzaWRpYW4tdGFibGUtdG8tY3N2LWV4cG9ydGVyJyxcbiAgICAgICAgIG5hbWU6ICdFeHBvcnQgdGFibGUgdG8gQ1NWIGZpbGUnLFxuICAgICAgICAgY2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodmlldykge1xuICAgICAgICAgICAgICAgaWYgKCFjaGVja2luZykge1xuICAgICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBjYW4gYWN0dWFsbHkgc3RhcnQgd2l0aCBvdXIgd29ya1xuICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld01vZGUgPSB2aWV3LmdldE1vZGUoKTtcbiAgICAgICAgICAgICAgICAgIGlmICh2aWV3TW9kZT09XCJwcmV2aWV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgIC8vIE5vdyBjb252ZXJ0IHRoZSB0YWJsZXNcbiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzdlN0cmluZyA9IGh0bWxUb0NTVih2aWV3LnByZXZpZXdNb2RlLmNvbnRhaW5lckVsLCB0aGlzLnNldHRpbmdzLnNlcENoYXIsIHRoaXMuc2V0dGluZ3MucXVvdGVEYXRhQ2hhciwgdGhpcy5zZXR0aW5ncy5yZW1vdmVDUkxGKTtcblxuICAgICAgICAgICAgICAgICAgICAgLy8gSWYgY3N2U3RyaW5nIGlzIG5vdCBlbXB0eSwgY3JlYXRlIGZpbGU6XG4gICAgICAgICAgICAgICAgICAgICBpZiAoY3N2U3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7dGhpcy5zZXR0aW5ncy5iYXNlRmlsZW5hbWV9LSR7dGhpcy5zZXR0aW5ncy5maWxlTnVtYmVyfS5jc3ZgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVuYW1lLCBjc3ZTdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBmaWxlIG51bWJlciBhZGRpdGlvbiBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0LCBjb252ZXJ0IHRoZSBjdXJyZW50IHN0cmluZyB0byBhIG51bWJlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmbjogbnVtYmVyID0gK3RoaXMuc2V0dGluZ3MuZmlsZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gaW5jcmVtZW50IHRoZSBudW1iZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWxsb3cgbW9yZSB0aGF0IDk5OTsgcmVzdGFydCB3aXRoIDAwMSBpbiB0aGF0IGNhc2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm49PTEwMDApIGZuID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIG51bWJlciB0byBhIHN0cmluZyBhZ2FpbjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdGaWxlTnVtYmVyU3RyaW5nOiBzdHJpbmcgPSBmbiArIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgbGVhZGluZyB6ZXJvZXMgdG8gdGhlIHN0cmluZzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdGaWxlTnVtYmVyU3RyaW5nLmxlbmd0aCA8IDMpIG5ld0ZpbGVOdW1iZXJTdHJpbmcgPSBcIjBcIiArIG5ld0ZpbGVOdW1iZXJTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmZpbGVOdW1iZXIgPSBuZXdGaWxlTnVtYmVyU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2F2ZVRvQ2xpcGJvYXJkVG9vKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAud3JpdGVUZXh0KGNzdlN0cmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFRoZSBmaWxlICR7ZmlsZW5hbWV9IHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZCBpbiB5b3VyIHZhdWx0LiBUaGUgY29udGVudHMgd2FzIGFsc28gY29waWVkIHRvIHRoZSBjbGlwYm9hcmQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1RoZXJlIHdhcyBhbiBlcnJvciB3aXRoIGNvcHlpbmcgdGhlIGNvbnRlbnRzIHRvIHRoZSBjbGlwYm9hcmQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFRoZSBmaWxlICR7ZmlsZW5hbWV9IHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZCBpbiB5b3VyIHZhdWx0LmApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYE5vIHRhYmxlIHdhcyBmb3VuZC4gTm8gQ1NWIGZpbGUgd2FzIHdyaXR0ZW4uYCk7XG4gICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnVGhpcyBjb21tYW5kIG9ubHkgd29ya3Mgb24gcGFuZXMgaW4gcmVhZGluZyBtb2RlISBcdTIwMTMgTm8gQ1NWIGZpbGVzIHdlcmUgd3JpdHRlbi4nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgIH1cbiAgICAgIH0pO1xuXG5cbiAgICAgIC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG4gICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFRhYmxlMkNTVlNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgY29uc29sZS5sb2coYFRhYmxlIHRvIENTViBwbHVnaW46IFZlcnNpb24gJHt0aGlzLm1hbmlmZXN0LnZlcnNpb259IGxvYWRlZC5gKTtcbiAgIH1cblxuICAgb251bmxvYWQoKSB7XG4gICB9XG5cbiAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgfVxuXG4gICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgfVxufVxuXG5cbmZ1bmN0aW9uIGh0bWxUb0NTVihodG1sOiBIVE1MRWxlbWVudCwgc2VwTW9kZTogc3RyaW5nLCBxdW90ZUNoYXI6IHN0cmluZywgcmVtb3ZlQ1JMRjogc3RyaW5nKSB7XG5cdHZhciBkYXRhID0gW107XG5cdHZhciB0YWJsZSA9IGh0bWwucXVlcnlTZWxlY3RvcihcInRhYmxlXCIpOyBcbiAgIC8vY29uc29sZS5sb2coYGh0bWxUb0NTVjo6dGFibGU6ICR7dGFibGV9YCk7XG5cdFx0XHRcbiAgIGlmICh0YWJsZSkge1xuICAgICAgdmFyIHJvd3MgPSB0YWJsZS5yb3dzO1xuICAgICAgLy9jb25zb2xlLmxvZyhgaHRtbFRvQ1NWOjpyb3dzOiAke3Jvd3N9YCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgIHZhciByb3cgPSBbXSwgY29scyA9IHJvd3NbaV0ucXVlcnlTZWxlY3RvckFsbChcInRkLCB0aFwiKTtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2xzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY2VsbENvbnRlbnQgPSAoY29sc1tqXSBhcyBIVE1MRWxlbWVudCkuaW5uZXJUZXh0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBoYW5kbGUgdGhlIG9wdGlvbmFsIHJlcGxhY2VtZW50IG9mIENSL0xGIGNoYXJhY3RlcnM6XG4gICAgICAgICAgICBpZiAocmVtb3ZlQ1JMRj09J3JlbW92ZUNSTEYtY2xlYXInKSB7XG4gICAgICAgICAgICAgICBjZWxsQ29udGVudCA9IGNlbGxDb250ZW50LnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZW1vdmVDUkxGPT0ncmVtb3ZlQ1JMRi1zcGFjZScpIHtcbiAgICAgICAgICAgICAgIGNlbGxDb250ZW50ID0gY2VsbENvbnRlbnQucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCIgXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZW1vdmVDUkxGPT0ncmVtb3ZlQ1JMRi1zdHJpbmcxJykge1xuICAgICAgICAgICAgICAgY2VsbENvbnRlbnQgPSBjZWxsQ29udGVudC5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIltDUl1cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgcXVvdGluZyBvZiBkYXRhIGNlbGxzOlxuICAgICAgICAgICAgLy8gZm9yIG5vdyBpdCdzIGp1c3QgdGhlIGhhcmQtY29kZWQgY2hhcmFjdGVyIFwiXG4gICAgICAgICAgICBpZiAocXVvdGVDaGFyPT0ncXVvdGVDaGFyLWRvdWJsZVF1b3RlcycpIHtcbiAgICAgICAgICAgICAgIGNlbGxDb250ZW50ID0gJ1wiJyArIGNlbGxDb250ZW50ICsgJ1wiJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocXVvdGVDaGFyPT0ncXVvdGVDaGFyLXNpbmdsZVF1b3RlcycpIHtcbiAgICAgICAgICAgICAgIGNlbGxDb250ZW50ID0gXCInXCIgKyBjZWxsQ29udGVudCArIFwiJ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93LnB1c2goY2VsbENvbnRlbnQpO1xuICAgICAgICAgfVxuICAgICAgICAgXG4gICAgICAgICB2YXIgc2VwQ2hhciA9ICc7JztcbiAgICAgICAgIHN3aXRjaChzZXBNb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdzZXBDaGFyLXNlbWljb2xvbic6IFxuICAgICAgICAgICAgICAgc2VwQ2hhciA9ICc7JztcbiAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VwQ2hhci1jb21tYSc6IFxuICAgICAgICAgICAgICAgc2VwQ2hhciA9ICcsJztcbiAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VwQ2hhci10YWInOiBcbiAgICAgICAgICAgICAgIHNlcENoYXIgPSAnXFx0JztcbiAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VwQ2hhci1waXBlJzogXG4gICAgICAgICAgICAgICBzZXBDaGFyID0gJ3wnO1xuICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXBDaGFyLXRpbGRlJzogXG4gICAgICAgICAgICAgICBzZXBDaGFyID0gJ34nO1xuICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXBDaGFyLWNhcmV0JzogXG4gICAgICAgICAgICAgICBzZXBDaGFyID0gJ14nO1xuICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXBDaGFyLWNvbG9uJzogXG4gICAgICAgICAgICAgICBzZXBDaGFyID0gJzonO1xuICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICB9XG4gICAgICAgICBkYXRhLnB1c2gocm93LmpvaW4oc2VwQ2hhcikpO1xuICAgICAgfVxuICAgfVxuICAgLy9jb25zb2xlLmxvZyhgaHRtbFRvQ1NWOjpkYXRhLmxlbmd0aDogJHtkYXRhLmxlbmd0aH1gKTtcbiAgIGlmIChkYXRhLmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gZGF0YS5qb2luKFwiXFxuXCIpO1xuICAgZWxzZVxuICAgICAgcmV0dXJuIFwiXCI7XG59XG5cbmNsYXNzIFRhYmxlMkNTVlNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgIHBsdWdpbjogVGFibGUyQ1NWUGx1Z2luO1xuXG4gICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUYWJsZTJDU1ZQbHVnaW4pIHtcbiAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgfVxuXG4gICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgY29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cbiAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnU2V0dGluZ3MgZm9yIHRoZSBUYWJsZSB0byBDU1YgUGx1Z2luLid9KTtcbiAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdOT1RFOiBDdXJyZW50bHksIHRoZSBleHBvcnRlZCBDU1YgZmlsZXMgYXJlIHNhdmVkIGluc2lkZSB5b3VyIHZhdWx0IG1haW4gZm9sZGVyLid9KTtcblxuICAgICAgLy8gQmVpbmcgYWJsZSB0byBzZXQgYSBwYXRoIGZvciB0aGUgZXhwb3J0cyB3aWxsIGJlIGEgZnV0dXJlIGFkZGl0aW9uXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLy8gICAgLnNldE5hbWUoJ0NTViBmaWxlIGV4cG9ydCBwYXRoJylcbiAgICAgIC8vICAgIC5zZXREZXNjKCdFbnRlciB0aGUgcGF0aCB3aGVyZSB0aGUgZXhwb3J0ZWQgQ1NWIGZpbGUgc2hvdWxkIGJlIHNhdmVkLiBJZiBubyBwYXRoIGlzIHNldCB0aGUgQ1NWIGZpbGUgd2lsbCBiZSBzYXZlZCBpbnRvIHlvdXIgdmF1bHQgZm9sZGVyLicpXG4gICAgICAvLyAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgIC8vICAgICAgIC5zZXRQbGFjZWhvbGRlcignPGVudGVyIGEgcGF0aD4nKVxuICAgICAgLy8gICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cG9ydFBhdGgpXG4gICAgICAvLyAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAvLyAgICAgICAgICBjb25zb2xlLmxvZygncGF0aDogJyArIHZhbHVlKTtcbiAgICAgIC8vICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cG9ydFBhdGggPSB2YWx1ZTtcbiAgICAgIC8vICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgLy8gICAgICAgfSkpO1xuXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgIC5zZXROYW1lKCdDU1YgZmlsZSBiYXNlIGZpbGVuYW1lJylcbiAgICAgICAgIC5zZXREZXNjKCdFbnRlciB0aGUgYmFzZSBmaWxlbmFtZS4gVGhlIFwiRmlsZSBOdW1iZXIgYWRkZW5kdW1cIiBnZXRzIGFkZGVkIGFmdGVyIHRoYXQgYW5kIGZpbmFsbHkgLmNzdicpXG4gICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignPGVudGVyIGEgYmFzZSBmaWxlbmFtZScpXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmFzZUZpbGVuYW1lKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnYmFzZSBmaWxlbmFtZTogJyArIHZhbHVlKTtcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmJhc2VGaWxlbmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgLnNldE5hbWUoJ0ZpbGUgTnVtYmVyIGFkZGVuZHVtJylcbiAgICAgICAgIC5zZXREZXNjKCdUaGlzIG51bWJlciBnZXRzIGFkZGVkIHRvIHRoZSBiYXNlIGZpbGVuYW1lIGFuZCBpbmNyZW1lbnRlZCBhZnRlciBlYWNoIGV4cG9ydC4gTm9ybWFsbHksIHlvdSBzaG91bGRuXFwndCBuZWVkIHRvIGVkaXQgdGhpcy4nKVxuICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJycpXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU51bWJlcilcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2ZpbGVOdW1iZXI6ICcgKyB2YWx1ZSk7XG4gICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWxlTnVtYmVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAuc2V0TmFtZSgnRGF0YSBmaWVsZHMgc2VwYXJhdGlvbiBjaGFyYWN0ZXIvc3RyaW5nJylcbiAgICAgICAgIC5zZXREZXNjKCdUaGlzIGNoYXJhY3RlciB3aWxsIGJlIHB1dCBiZXR3ZWVuIGVhY2ggY2VsbFxcJ3MgZGF0YS4gRGVmYXVsdHMgdG8gYSBzZW1pY29sb24uJylcbiAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuICAgICAgICAgICAgLmFkZE9wdGlvbignc2VwQ2hhci1zZW1pY29sb24nLCAnOyAoc2VtaWNvbG9uKScpXG4gICAgICAgICAgICAuYWRkT3B0aW9uKCdzZXBDaGFyLWNvbW1hJywgJywgKGNvbW1hKScpXG4gICAgICAgICAgICAuYWRkT3B0aW9uKCdzZXBDaGFyLXRhYicsICdcXFxcdCAodGFiKScpXG4gICAgICAgICAgICAuYWRkT3B0aW9uKCdzZXBDaGFyLXBpcGUnLCAnfCAocGlwZSknKVxuICAgICAgICAgICAgLmFkZE9wdGlvbignc2VwQ2hhci10aWxkZScsICd+ICh0aWxkZSknKVxuICAgICAgICAgICAgLmFkZE9wdGlvbignc2VwQ2hhci1jYXJldCcsICdeIChjYXJldCknKVxuICAgICAgICAgICAgLmFkZE9wdGlvbignc2VwQ2hhci1jb2xvbicsICc6IChjb2xvbiknKVxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlcENoYXIpXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzZXBDaGFyOiAnICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VwQ2hhciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KSk7XG4gICBcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgLnNldE5hbWUoJ1F1b3RlIGRhdGEnKVxuICAgICAgICAgLnNldERlc2MoJ0RvIHlvdSB3YW50IHF1b3RhdGlvbiBtYXJrcyBhcm91bmQgZWFjaCBjZWxsXFwncyBkYXRhPycpXG4gICAgICAgICAuYWRkRHJvcGRvd24oIGRyb3Bkb3duID0+IGRyb3Bkb3duXG4gICAgICAgICAgICAuYWRkT3B0aW9uKCdxdW90ZUNoYXItbm9RdW90ZScsICdEb25cXCd0IHF1b3RlIGRhdGEnKVxuICAgICAgICAgICAgLmFkZE9wdGlvbigncXVvdGVDaGFyLWRvdWJsZVF1b3RlcycsICdRdW90ZSBkYXRhIHdpdGggZG91YmxlIHF1b3RlIGNoYXJhY3RlciAoXCIpJylcbiAgICAgICAgICAgIC5hZGRPcHRpb24oJ3F1b3RlQ2hhci1zaW5nbGVRdW90ZXMnLCAnUXVvdGUgZGF0YSB3aXRoIHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXIgKFxcJyknKVxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnF1b3RlRGF0YUNoYXIpXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdxdW90ZSBkYXRhIHRvZ2dsZTogJyArIHZhbHVlKTtcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnF1b3RlRGF0YUNoYXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgfSkpO1xuICAgXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgIC5zZXROYW1lKCdIYW5kbGluZyBvZiBDUi9MRiBpbiBkYXRhJylcbiAgICAgICAgIC5zZXREZXNjKCdDaG9vc2UgaG93IHRvIGhhbmRsZSB0aGUgb2NjdXJhbmNlIG9mIHJldHVybiBhbmQgbGluZWZlZWQgY2hhcmFjdGVycyBpbiBkYXRhIGNlbGxzLicpXG4gICAgICAgICAuYWRkRHJvcGRvd24oIGRyb3Bkb3duID0+IGRyb3Bkb3duXG4gICAgICAgICAgICAuYWRkT3B0aW9uKCdyZW1vdmVDUkxGLWNsZWFyJywgJ1JlbW92ZSBhbGwgQ1IgJiBMRiBjaGFyYWN0ZXJzJylcbiAgICAgICAgICAgIC5hZGRPcHRpb24oJ3JlbW92ZUNSTEYtc3BhY2UnLCAnUmVwbGFjZSBhbGwgQ1IgJiBMRiBjaGFyYWN0ZXJzIHdpdGggb25lIHNwYWNlJylcbiAgICAgICAgICAgIC5hZGRPcHRpb24oJ3JlbW92ZUNSTEYtc3RyaW5nMScsICdSZXBsYWNlIGFsbCBDUiAmIExGIGNoYXJhY3RlcnMgd2l0aCBzdHJpbmcgW0NSXScpXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVtb3ZlQ1JMRilcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnJlbW92ZUNSTEYgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgfSkpXG5cbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgLnNldE5hbWUoJ0NvcHkgdG8gY2xpcGJvYXJkLCB0b28nKVxuICAgICAgICAgLnNldERlc2MoJ0RvIHlvdSB3YW50IHRvIGNvcHkgdGhlIGNvbnRlbnRzIG9mIHRoZSBDU1YgZmlsZSB0byB0aGUgc3lzdGVtIGNsaXBib2FyZCwgdG9vPycpXG4gICAgICAgICAuYWRkVG9nZ2xlKCB0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVRvQ2xpcGJvYXJkVG9vKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnc2F2ZSB0byBjbGlwYm9hcmQsIHRvbzogJyArIHZhbHVlKTtcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVUb0NsaXBib2FyZFRvbyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KSk7XG4gICBcbiAgIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBV0Esc0JBQTRGO0FBWTVGLElBQU0sbUJBQXNDO0FBQUEsRUFDekMsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2QsWUFBWTtBQUFBLEVBQ1osU0FBUztBQUFBLEVBQ1QsZUFBZTtBQUFBLEVBQ2Ysb0JBQW9CO0FBQUEsRUFDcEIsWUFBWTtBQUFBO0FBR2Ysb0NBQTZDLHVCQUFPO0FBQUEsRUFHM0MsU0FBUztBQUFBO0FBRVosWUFBTSxLQUFLO0FBRVgsV0FBSyxXQUFXO0FBQUEsUUFDYixJQUFJO0FBQUEsUUFDSixNQUFNO0FBQUEsUUFDTixlQUFlLENBQUMsYUFBc0I7QUFFbkMsZ0JBQU0sT0FBTyxLQUFLLElBQUksVUFBVSxvQkFBb0I7QUFFcEQsY0FBSSxNQUFNO0FBQ1AsZ0JBQUksQ0FBQyxVQUFVO0FBRVosb0JBQU0sV0FBVyxLQUFLO0FBQ3RCLGtCQUFJLFlBQVUsV0FBVztBQUV0QixzQkFBTSxZQUFZLFVBQVUsS0FBSyxZQUFZLGFBQWEsS0FBSyxTQUFTLFNBQVMsS0FBSyxTQUFTLGVBQWUsS0FBSyxTQUFTO0FBRzVILG9CQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3ZCLHdCQUFNLFdBQVcsR0FBRyxLQUFLLFNBQVMsZ0JBQWdCLEtBQUssU0FBUztBQUNoRSx1QkFBSyxJQUFJLE1BQU0sT0FBTyxVQUFVLFdBQzVCLEtBQU0sTUFBTTtBQUdWLHdCQUFJLEtBQWEsQ0FBQyxLQUFLLFNBQVM7QUFFaEM7QUFFQSx3QkFBSSxNQUFJO0FBQU0sMkJBQUs7QUFFbkIsd0JBQUksc0JBQThCLEtBQUs7QUFFdkMsMkJBQU8sb0JBQW9CLFNBQVM7QUFBRyw0Q0FBc0IsTUFBTTtBQUNuRSx5QkFBSyxTQUFTLGFBQWE7QUFDM0Isd0JBQUksS0FBSyxTQUFTLG9CQUFvQjtBQUNuQyxnQ0FBVSxVQUNOLFVBQVUsV0FDVixLQUFLLE1BQU07QUFDVCw0QkFBSSx1QkFBTyxZQUFZO0FBQUEseUJBRXpCLE1BQU0sQ0FBQyxRQUFRO0FBQ2IsNEJBQUksdUJBQU87QUFBQTtBQUFBLDJCQUdiO0FBQ0osMEJBQUksdUJBQU8sWUFBWTtBQUFBO0FBQUEscUJBSTVCLE1BQU8sQ0FBQyxVQUFVO0FBQ2hCLDBCQUFNLGVBQWUsVUFBVSxNQUFNO0FBQ3JDLHdCQUFJLHVCQUFPO0FBQUE7QUFBQSx1QkFHZjtBQUNGLHNCQUFJLHVCQUFPO0FBQUE7QUFBQSxxQkFJWjtBQUNGLG9CQUFJLHVCQUFPO0FBQUE7QUFBQTtBQUlqQixtQkFBTztBQUFBO0FBR1YsaUJBQU87QUFBQTtBQUFBO0FBTWIsV0FBSyxjQUFjLElBQUksb0JBQW9CLEtBQUssS0FBSztBQUVyRCxjQUFRLElBQUksZ0NBQWdDLEtBQUssU0FBUztBQUFBO0FBQUE7QUFBQSxFQUc3RCxXQUFXO0FBQUE7QUFBQSxFQUdMLGVBQWU7QUFBQTtBQUNsQixXQUFLLFdBQVcsT0FBTyxPQUFPLElBQUksa0JBQWtCLE1BQU0sS0FBSztBQUFBO0FBQUE7QUFBQSxFQUc1RCxlQUFlO0FBQUE7QUFDbEIsWUFBTSxLQUFLLFNBQVMsS0FBSztBQUFBO0FBQUE7QUFBQTtBQUsvQixtQkFBbUIsTUFBbUIsU0FBaUIsV0FBbUIsWUFBb0I7QUFDN0YsTUFBSSxPQUFPO0FBQ1gsTUFBSSxRQUFRLEtBQUssY0FBYztBQUc3QixNQUFJLE9BQU87QUFDUixRQUFJLE9BQU8sTUFBTTtBQUVqQixhQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxLQUFLO0FBQ25DLFVBQUksTUFBTSxJQUFJLE9BQU8sS0FBSyxHQUFHLGlCQUFpQjtBQUU5QyxlQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxLQUFLO0FBQ25DLFlBQUksY0FBZSxLQUFLLEdBQW1CO0FBRzNDLFlBQUksY0FBWSxvQkFBb0I7QUFDakMsd0JBQWMsWUFBWSxRQUFRLGtCQUFrQjtBQUFBLG1CQUM1QyxjQUFZLG9CQUFvQjtBQUN4Qyx3QkFBYyxZQUFZLFFBQVEsa0JBQWtCO0FBQUEsbUJBQzVDLGNBQVksc0JBQXNCO0FBQzFDLHdCQUFjLFlBQVksUUFBUSxrQkFBa0I7QUFBQTtBQUt2RCxZQUFJLGFBQVcsMEJBQTBCO0FBQ3RDLHdCQUFjLE1BQU0sY0FBYztBQUFBLG1CQUMxQixhQUFXLDBCQUEwQjtBQUM3Qyx3QkFBYyxNQUFNLGNBQWM7QUFBQTtBQUVyQyxZQUFJLEtBQUs7QUFBQTtBQUdaLFVBQUksVUFBVTtBQUNkLGNBQU87QUFBQSxhQUNDO0FBQ0Ysb0JBQVU7QUFDVjtBQUFBLGFBQ0U7QUFDRixvQkFBVTtBQUNWO0FBQUEsYUFDRTtBQUNGLG9CQUFVO0FBQ1Y7QUFBQSxhQUNFO0FBQ0Ysb0JBQVU7QUFDVjtBQUFBLGFBQ0U7QUFDRixvQkFBVTtBQUNWO0FBQUEsYUFDRTtBQUNGLG9CQUFVO0FBQ1Y7QUFBQSxhQUNFO0FBQ0Ysb0JBQVU7QUFDVjtBQUFBO0FBRU4sV0FBSyxLQUFLLElBQUksS0FBSztBQUFBO0FBQUE7QUFJekIsTUFBSSxLQUFLLFNBQVM7QUFDZixXQUFPLEtBQUssS0FBSztBQUFBO0FBRWpCLFdBQU87QUFBQTtBQUdiLHdDQUFrQyxpQ0FBaUI7QUFBQSxFQUdoRCxZQUFZLEtBQVUsUUFBeUI7QUFDNUMsVUFBTSxLQUFLO0FBQ1gsU0FBSyxTQUFTO0FBQUE7QUFBQSxFQUdqQixVQUFnQjtBQUNiLFVBQU0sRUFBQyxnQkFBZTtBQUV0QixnQkFBWTtBQUVaLGdCQUFZLFNBQVMsTUFBTSxFQUFDLE1BQU07QUFDbEMsZ0JBQVksU0FBUyxLQUFLLEVBQUMsTUFBTTtBQWdCakMsUUFBSSx3QkFBUSxhQUNSLFFBQVEsMEJBQ1IsUUFBUSw4RkFDUixRQUFRLFVBQVEsS0FDYixlQUFlLDBCQUNmLFNBQVMsS0FBSyxPQUFPLFNBQVMsY0FDOUIsU0FBUyxDQUFPLFVBQVU7QUFFeEIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTztBQUFBO0FBRzNCLFFBQUksd0JBQVEsYUFDUixRQUFRLHdCQUNSLFFBQVEsNkhBQ1IsUUFBUSxVQUFRLEtBQ2IsZUFBZSxJQUNmLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFDOUIsU0FBUyxDQUFPLFVBQVU7QUFFeEIsV0FBSyxPQUFPLFNBQVMsYUFBYTtBQUNsQyxZQUFNLEtBQUssT0FBTztBQUFBO0FBRzNCLFFBQUksd0JBQVEsYUFDUixRQUFRLDJDQUNSLFFBQVEsaUZBQ1IsWUFBWSxjQUFZLFNBQ3JCLFVBQVUscUJBQXFCLGlCQUMvQixVQUFVLGlCQUFpQixhQUMzQixVQUFVLGVBQWUsYUFDekIsVUFBVSxnQkFBZ0IsWUFDMUIsVUFBVSxpQkFBaUIsYUFDM0IsVUFBVSxpQkFBaUIsYUFDM0IsVUFBVSxpQkFBaUIsYUFDM0IsU0FBUyxLQUFLLE9BQU8sU0FBUyxTQUM5QixTQUFTLENBQU8sVUFBVTtBQUV4QixXQUFLLE9BQU8sU0FBUyxVQUFVO0FBQy9CLFlBQU0sS0FBSyxPQUFPO0FBQUE7QUFHM0IsUUFBSSx3QkFBUSxhQUNSLFFBQVEsY0FDUixRQUFRLHdEQUNSLFlBQWEsY0FBWSxTQUN0QixVQUFVLHFCQUFxQixvQkFDL0IsVUFBVSwwQkFBMEIsOENBQ3BDLFVBQVUsMEJBQTBCLDhDQUNwQyxTQUFTLEtBQUssT0FBTyxTQUFTLGVBQzlCLFNBQVMsQ0FBTyxVQUFVO0FBRXhCLFdBQUssT0FBTyxTQUFTLGdCQUFnQjtBQUNyQyxZQUFNLEtBQUssT0FBTztBQUFBO0FBRzNCLFFBQUksd0JBQVEsYUFDUixRQUFRLDZCQUNSLFFBQVEsdUZBQ1IsWUFBYSxjQUFZLFNBQ3RCLFVBQVUsb0JBQW9CLGlDQUM5QixVQUFVLG9CQUFvQixpREFDOUIsVUFBVSxzQkFBc0IsbURBQ2hDLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFDOUIsU0FBUyxDQUFPLFVBQVU7QUFDeEIsV0FBSyxPQUFPLFNBQVMsYUFBYTtBQUNsQyxZQUFNLEtBQUssT0FBTztBQUFBO0FBRzNCLFFBQUksd0JBQVEsYUFDUixRQUFRLDBCQUNSLFFBQVEsa0ZBQ1IsVUFBVyxZQUFVLE9BQ2xCLFNBQVMsS0FBSyxPQUFPLFNBQVMsb0JBQzlCLFNBQVMsQ0FBTyxVQUFVO0FBRXhCLFdBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUMxQyxZQUFNLEtBQUssT0FBTztBQUFBO0FBQUE7QUFBQTsiLAogICJuYW1lcyI6IFtdCn0K
