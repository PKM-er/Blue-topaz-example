---
obsidianUIMode: preview
---
## ä½¿ç”¨è¯´æ˜
- å¯ä»¥æ ¹æ®æ–‡ä»¶å¤¹æˆ–è€…æ ‡ç­¾ç­›é€‰é¡¹ç›®æ–‡ä»¶ï¼Œå¦‚æœä»…ä»…æƒ³æ ¹æ®æ ‡ç­¾ç­›é€‰ï¼Œæ–‡ä»¶å¤¹é€‰æ‹©ç©ºå³å¯ã€‚
- å¦‚æœé¡¹ç›®ä¸­æœ‰ä»»åŠ¡ä¼šæ˜¾ç¤ºä»»åŠ¡æ•°é‡ä»¥åŠå®Œæˆæƒ…å†µï¼Œå¦åˆ™åªæ˜¾ç¤ºå­—æ•°ã€‚
- åœ¨é¡¹ç›®æ–‡ä»¶yamlåŒºåŸŸæ·»åŠ target å¯è®¾ç½®ç›®æ ‡å­—æ•°ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤è¯»å–æœ¬æ–‡é…ç½®çš„é»˜è®¤å€¼3500
- é¡¹ç›®çŠ¶æ€é€šè¿‡æ–‡ä»¶statuså­—æ®µæ˜¾ç¤ºï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤æ˜¾ç¤ºç©ºã€‚
%%

__Notes to display__
*Gets either notes in a folder or notes with a certain tag. Leave one of them empty.*
sourceFolder:: /
sourceTag:: Movie

__Notes to exclude__
*Leave empty to disable. Notes with the yaml-key `status` and value `exclude` for that key are also excluded.)*
excludeTag:: 
exFolder:: 
__Counting Settings__
*"chars" or "words"*
toCount:: words
target:: 3500

*words or characters per page, depending on setting above. Set to zero to ignore.*
wordsPerPage:: 350
charsPerPage:: 1000

includeFootnotes:: true
charactersIncludeSpaces:: true
excludeComments:: true
cumulativeShare:: false
groupedCount:: true

__Purely visual__
useThousandSeperator:: true
thousandSeperator:: ,
naChar:: â€”
mostRecentIcon:: ğŸ•™

%%
### é€‰æ‹©éœ€è¦è·Ÿè¸ªçš„é¡¹ç›®
```dataviewjs
const {update} = this.app.plugins.plugins["metaedit"].api;
	const thisFile = dv.pages().where(f => f.file.path == dv.current().file.path)
	let sourceFolder = dv.current().sourceFolder;
	let exFolder = dv.current().exFolder;	
	let sourceTag = dv.current().sourceTag;
	let excludeTag =  dv.current().excludeTag;
	
	const searchFolerDropdownMaker = (pn, fpath) => {
		const file = this.app.vault.getAbstractFileByPath(fpath)
		const folders = this.app.vault.getAllLoadedFiles().filter(i => i.children).map(folder => folder.path);
		folders.unshift("")
		const dropdown = this.container.createEl('select');
		folders.forEach((folder, index) => {
			var opt = folder;
			var el = dropdown.createEl('option');
			opt != "/" ? el.textContent = opt : el.textContent = "All folder";
			el.value = opt;
			dropdown.appendChild(el);
		})
	
		folders.indexOf(sourceFolder) < 0 ? dropdown.selectedIndex = 0 : dropdown.selectedIndex = folders.indexOf(sourceFolder)
		
		dropdown.addEventListener('change', async evt => {
	evt.preventDefault();
	await update(pn, folders[dropdown.selectedIndex], file)
		})
		
		return dropdown
	}
	const exFolerDropdownMaker = (pn, fpath) => {
		const file = this.app.vault.getAbstractFileByPath(fpath)
		const folders = this.app.vault.getAllLoadedFiles().filter(i => i.children).map(folder => folder.path);
		folders.unshift("")
		const dropdown = this.container.createEl('select');
		folders.forEach((folder, index) => {
			var opt = folder;
			var el = dropdown.createEl('option');
			opt != "/" ? el.textContent = opt : el.textContent = "All folder";
			el.value = opt;
			dropdown.appendChild(el);
		})
	
		folders.indexOf(exFolder) < 0 ? dropdown.selectedIndex = 0 : dropdown.selectedIndex = folders.indexOf(exFolder)
		
		dropdown.addEventListener('change', async evt => {
	evt.preventDefault();
	await update(pn, folders[dropdown.selectedIndex], file)
		})
		
		return dropdown
	}
///////
	const tagsDropdownMaker = (pn, fpath) => {
		const file = this.app.vault.getAbstractFileByPath(fpath)
		const tags = Object.keys(app.metadataCache.getTags()).sort();
		tags.unshift("")
		const dropdown = this.container.createEl('select');
		tags.forEach((tag, index) => {
			var opt = tag;
			var el = dropdown.createEl('option');
			opt != "#" ? el.textContent = opt : el.textContent = "All Pages";
			el.value = opt;
			dropdown.appendChild(el);
		})
		tags.indexOf("#"+sourceTag) < 0 ? dropdown.selectedIndex = 0 : dropdown.selectedIndex = tags.indexOf("#"+sourceTag)
		dropdown.addEventListener('change', async evt => {
			evt.preventDefault();
			await update(pn, tags[dropdown.selectedIndex].slice(1), file)
		})
		return dropdown
	}
//////
	const extagsDropdownMaker = (pn, fpath) => {
		const file = this.app.vault.getAbstractFileByPath(fpath)
		const tags = Object.keys(app.metadataCache.getTags()).sort();
		const dropdown = this.container.createEl('select');
		tags.unshift("")
		tags.forEach((tag, index) => {
			var opt = tag;
			var el = dropdown.createEl('option');
			opt != "#" ? el.textContent = opt : el.textContent = "All Pages";
			el.value = opt;
			dropdown.appendChild(el);
		})
		tags.indexOf("#"+excludeTag) < 0 ? dropdown.selectedIndex = 0 : dropdown.selectedIndex = tags.indexOf("#"+excludeTag)
		dropdown.addEventListener('change', async evt => {
			evt.preventDefault();
			await update(pn, tags[dropdown.selectedIndex].slice(1), file)
		})
		return dropdown
	}	
/////
dv.el("dvjs", "");
		dv.paragraph("### æŒ‰æ–‡ä»¶å¤¹æ£€ç´¢: ")
	dv.paragraph(searchFolerDropdownMaker('sourceFolder', dv.current().file.path))	
		dv.paragraph("### æŒ‰æ ‡ç­¾æ£€ç´¢: ")
     	dv.paragraph(tagsDropdownMaker('sourceTag', dv.current().file.path));
dv.el("dvjs", "");
		dv.paragraph("### æ’é™¤çš„æ–‡ä»¶å¤¹: ")
	dv.paragraph(exFolerDropdownMaker('exFolder', dv.current().file.path))	
     	dv.paragraph("### æ’é™¤çš„æ ‡ç­¾: ")
     	dv.paragraph(extagsDropdownMaker('excludeTag', dv.current().file.path));
     	dv.paragraph(`\`button-table2csv\``)
     	
```


```dataviewjs
//----------------------------------------------------
//  a dataviewjs snippet by @pseudometa, https://gist.github.com/chrisgrieser/ac16a80cdd9e8e0e84606cc24e35ad99
//----------------------------------------------------
// Print Table
let setting= {}
setting.container=this.container
setting.theader=["é¡¹ç›®","æ ‡å‡†","è¿›åº¦", "çŠ¶æ€"]
dv.view("88-Template/script/dv_project_tracking", setting)

```